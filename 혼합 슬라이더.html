<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>punto.project</title>
    <link rel="stylesheet" href="./punto.html/reset.css">
    <link rel="stylesheet" href="./punto.html/makeSlider.css">
    <link rel="stylesheet" href="혼합슬라이더.css">
</head>
<body>
        <div class="test_box"></div>       
        <section id="punto_scroll_section">
            <div class="p_scroll_container">
                <div class="background_image_place">
                    <img src="./punto.html/ponto_img/브랜딩.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/카피라이팅.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/웹.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/로고.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/상세페이지.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/컨텐츠.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/편집.png" alt="" class="scroll_content_img">
                    <img src="./punto.html/ponto_img/패키지.png" alt="" class="scroll_content_img">
                </div>
                <ul class="p_scroll_wrapper">
                    <li class="main_scroll_content">
                        <p class="slide_main_text"><strong class="text_point">punto.</strong>는 마침표를 뜻하지만,<br>마침표는<strong class="text_point">또 다른 시작을 의미</strong>합니다</p>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Brand Design</p>
                            <p class="slide_scroll_text_k">브랜드 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Copywriting</p>
                            <p class="slide_scroll_text_k">카피라이팅</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Web design</p>
                            <p class="slide_scroll_text_k">웹디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Logo Design</p>
                            <p class="slide_scroll_text_k">로고 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Detailed Page Design</p>
                            <p class="slide_scroll_text_k">상세페이지 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Content Design</p>
                            <p class="slide_scroll_text_k">컨텐츠 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Edit Design</p>
                            <p class="slide_scroll_text_k">편집 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                    <li class="scroll_content">
                        <div class="slide_scroll_text_content_container">
                            <p class="slide_scroll_text_e">Package Design</p>
                            <p class="slide_scroll_text_k">패키지 디자인</p>
                            <button class="slide_scroll_btn">더보기</button>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <section id="mobile_slide">
            <li class="mobile_slide_main_scroll_content">
                <p class="slide_main_text"><strong class="text_point">punto.</strong>는 마침표를 뜻하지만,<br>마침표는<strong class="text_point">또 다른 시작을 의미</strong>합니다</p>
            </li>
            <div class="my-slide">
                <div class="content">
                    <img src="./punto.html/ponto_img/브랜딩.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Brand Design</p>
                        <p class="slide_scroll_text_k">브랜드 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/카피라이팅.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Copywriting</p>
                        <p class="slide_scroll_text_k">카피라이팅</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/웹.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Web design</p>
                        <p class="slide_scroll_text_k">웹디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/로고.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Logo Design</p>
                        <p class="slide_scroll_text_k">로고 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/상세페이지.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Detailed Page Design</p>
                        <p class="slide_scroll_text_k">상세페이지 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/컨텐츠.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Content Design</p>
                        <p class="slide_scroll_text_k">컨텐츠 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/편집.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Edit Design</p>
                        <p class="slide_scroll_text_k">편집 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
                <div class="content">
                    <img src="./punto.html/ponto_img/패키지.png" alt="" class="content_img">
                    <div class="text_container">
                        <p class="slide_scroll_text_e">Package Design</p>
                        <p class="slide_scroll_text_k">패키지 디자인</p>
                        <button class="slide_scroll_btn">더보기</button>
                    </div>
                </div>
            </div>
        </section>
        <div class="test_box"></div>
        
    <script src="./punto.html/makeSlider.js"></script>
    <script>
        const pScrollSection = document.querySelector('#punto_scroll_section');
        const pScrollWrapper = document.querySelector('.p_scroll_wrapper');
        const onePageContent = document.querySelectorAll('.scroll_content');
        const upFixedContainer = document.querySelector('.introduction_up_fixed_container');
        const pScrollContainer = document.querySelector('.p_scroll_container');
        const slideScrollTextContentContainer = document.getElementsByClassName('slide_scroll_text_content_container');
        const scrollContentImg = document.querySelectorAll('.scroll_content_img');
        let range;
        let isThrottled = false;



        window.addEventListener('wheel', () => {
            if(isThrottled) return;

            isThrottled = true;

            const topPosition = upFixedContainer.getBoundingClientRect().top;

            if(topPosition < window.innerHeight*2/3){
                upFixedContainer.classList.add('active');
            }else{
                upFixedContainer.classList.remove('active');
            }

            setTimeout(() => {
                isThrottled = false;
            }, 100);
        })


        const init = () => {
            range = pScrollWrapper.getBoundingClientRect().width;
            pScrollSection.style.height = `${range}px`
        }


        init();
        window.addEventListener('resize', init)
        window.addEventListener('scroll',(e)=>{
            const translateX = pScrollSection.getBoundingClientRect().top;

            if(translateX > 0){
                pScrollWrapper.style.transform = `translateX(${0}px)`

            }else if(translateX < window.innerWidth-range){
                pScrollWrapper.style.transform = `translateX(${window.innerWidth-range}px)`

            }else {
                pScrollWrapper.style.transform = `translateX(${translateX}px)`
            }

        })

    document.addEventListener('DOMContentLoaded', () => {
        const boxes = document.querySelectorAll('.value_box');
        const description = document.getElementById('description');

        boxes.forEach(box => {
            const letter = box.textContent;
            const word = box.getAttribute('data_word');
            const wordDescription = box.getAttribute('data_description');
            box.innerHTML = `<span class="letter">${letter}</span><span class="hidden word">${letter}${word.slice(1)}</span>`;
            box.addEventListener('click', () => {
                boxes.forEach(b => {
                    b.style.width = '256px'; // Reset all boxes to original width
                    b.querySelector('.letter').classList.remove('hidden'); // Show letter in all boxes
                    b.querySelector('.word').classList.add('hidden'); // Hide word in all boxes
                });

                box.style.width = '768px'; // Expand clicked box
                box.querySelector('.letter').classList.add('hidden'); // Hide letter in clicked box
                box.querySelector('.word').classList.remove('hidden'); // Show word in clicked box
                description.textContent = wordDescription; // Show description
            });
        });
    });

    // pScrollContainer.addEventListener('wheel', () => {
    //         if(isThrottled) return;

    //         isThrottled = true;

    //         const Position = slideScrollTextContentContainer.getBoundingClientRect().left;

    //         if(Position < window.innerWidth*2/3){
    //             pScrollContainer.classList.add('active');
    //         }else{
    //             pScrollContainer.classList.remove('active');
    //         }

    //         setTimeout(() => {
    //             isThrottled = false;
    //         }, 100);
    //     })

    
    const scrollContent = document.querySelectorAll('.scroll_content');

    const backgroundImagePlace =document.querySelector('.background_image_place');

    scrollContentImg

    const observer = new IntersectionObserver((entries) =>{

        entries.forEach((entry)=>{
            if(entry.intersectionRatio > 0) {

                for(let i = 0 ; i < backgroundImagePlace.childElementCount ; i ++) {
                    backgroundImagePlace.children[i].style.opacity = `0`;
                }
                backgroundImagePlace.children[entry.target.user_index].style.opacity = `1`;
            }else {
                backgroundImagePlace.children[entry.target.user_index].style.opacity = `0`;
            }
        })
    })
    
    for(let i = 1 ; i <scrollContent.length ; i ++) {
        observer.observe(scrollContent[i])
        scrollContent[i].user_index=i;
    }


    makeSlider(document.querySelector('.my-slide'),2,2,2);
    
    const openBtn = document.querySelector('.menu_icon_container')
    const closeBtn = document.querySelector('.menu_close_icon_container')
    const menuFullPage = document.querySelector('.nav_total_menu_container')
    const menuPage = document.querySelector('.nav_menu_container')
    
    openBtn.addEventListener('click',()=>{
        menuFullPage.classList.toggle('active')
        menuPage.classList.toggle('active')
    })
    closeBtn.addEventListener('click',()=>{
        menuClose();
    })
    window.addEventListener('click',(e)=>{
        if(e.target.classList.contains('active')){
            menuFullPage.classList.remove('active')
            menuPage.classList.remove('active')
        }
    })
    // nav_menu_container 왼쪽부분을 누르면 닫힘...오른쪽 공백을 누르면 안 닫히는데...안 닫혀야 맞는건디...흠;;;

    function menuClose(){
        menuFullPage.classList.remove('active')
        menuPage.classList.remove('active')
    }

        
    </script>
</body>
</html>